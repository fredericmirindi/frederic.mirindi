/* ===== COMPREHENSIVE RESPONSIVE DESIGN FIXES =====
 * Prevents unwanted horizontal scrolling and ensures all content fits within viewport
 * Implements both overflow hidden and viewport-fitted content approaches
 * Professional mobile-first responsive design implementation
 * ================================================== */

/* ===== 1. GLOBAL VIEWPORT AND OVERFLOW FIXES ===== */

/* Root-level overflow prevention */
html {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    box-sizing: border-box;
}

body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Ensure all elements respect box-sizing */
*, *::before, *::after {
    box-sizing: border-box !important;
    max-width: 100% !important;
}

/* ===== 2. CONTAINER AND LAYOUT FIXES ===== */

/* Main container overflow prevention */
.main-content {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    margin-top: 70px;
    position: relative;
}

/* Page container fixes */
.page {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    padding: 0;
    margin: 0;
}

/* Container responsive fixes */
.container {
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding-left: clamp(15px, 4vw, 20px);
    padding-right: clamp(15px, 4vw, 20px);
    margin-left: auto;
    margin-right: auto;
    box-sizing: border-box;
}

/* Hero section overflow prevention */
.hero-section {
    overflow: hidden !important;
    max-width: 100vw !important;
    position: relative;
    margin: 0;
    padding: 0;
}

/* ===== 3. NAVIGATION RESPONSIVE FIXES ===== */

.navbar {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    left: 0;
    right: 0;
    width: 100% !important;
}

.nav-container {
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 0 clamp(15px, 4vw, 20px);
    margin: 0;
}

.nav-menu {
    overflow-x: hidden !important;
}

/* ===== 4. HERO CONTENT RESPONSIVE FIXES ===== */

.hero-content {
    max-width: 100% !important;
    overflow-x: hidden !important;
    gap: clamp(20px, 4vw, 32px);
    padding: 0;
    margin: 0;
}

.hero-text, .hero-image {
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 0;
}

/* Hero buttons responsive */
.hero-buttons {
    flex-wrap: wrap;
    gap: clamp(12px, 3vw, 16px);
    justify-content: center;
}

.hero-buttons .btn {
    max-width: 100% !important;
    word-wrap: break-word;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ===== 5. WIDGET SECTION RESPONSIVE FIXES ===== */

.widget-responsive-section {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    margin: 0;
    border-radius: 0;
    padding: clamp(15px, 3vw, 24px) 0;
}

.widget-cards-row {
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 0 clamp(15px, 4vw, 20px);
    margin: 0 auto;
    box-sizing: border-box;
}

.widget-card {
    max-width: 100% !important;
    overflow-x: hidden !important;
    min-width: 0 !important;
    flex-shrink: 1;
}

.widget-card-content {
    min-width: 0 !important;
    overflow-x: hidden !important;
}

/* ===== 6. CARD AND GRID RESPONSIVE FIXES ===== */

/* General card fixes */
.card, .research-card, .paper-card, .conference-card, 
.ai-tool-card, .highlight-card, .contact-item,
.pub-card, .blog-card {
    max-width: 100% !important;
    overflow-x: hidden !important;
    min-width: 0 !important;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Grid layout fixes */
.research-grid, .highlights-grid, .conferences-timeline,
.papers-list, .ai-tools-grid, .pubs__grid {
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 0;
    margin: 0;
}

/* ===== 7. TEXT AND CONTENT OVERFLOW FIXES ===== */

/* Prevent text overflow */
h1, h2, h3, h4, h5, h6, p, span, div {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto;
    max-width: 100% !important;
}

/* Long text content fixes */
.hero-description, .research-card p, .paper-abstract,
.conference-topic, .bio-section p {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    overflow-x: hidden !important;
}

/* Code and preformatted text */
pre, code {
    max-width: 100% !important;
    overflow-x: auto !important;
    word-wrap: break-word;
    white-space: pre-wrap !important;
}

/* ===== 8. IMAGE AND MEDIA RESPONSIVE FIXES ===== */

img, video, canvas, svg {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain;
}

.profile-photo, .profile-image img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: cover;
}

/* ===== 9. TABLE RESPONSIVE FIXES ===== */

table {
    max-width: 100% !important;
    overflow-x: auto !important;
    display: block;
    white-space: nowrap;
}

table td, table th {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

/* ===== 10. FORM ELEMENTS RESPONSIVE FIXES ===== */

.form-control, input, textarea, select, button {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
}

.form-group {
    max-width: 100% !important;
    overflow-x: hidden !important;
}

/* ===== 11. FLOATING ELEMENTS FIXES ===== */

.floating-shape {
    max-width: 100vw !important;
    overflow: hidden !important;
}

.ai-background-canvas {
    max-width: 100vw !important;
    overflow: hidden !important;
}

/* ===== 12. MOBILE-SPECIFIC RESPONSIVE BREAKPOINTS ===== */

/* Large Mobile and Small Tablet (768px and below) */
@media screen and (max-width: 768px) {
    /* Container adjustments */
    .container {
        padding-left: 20px !important;
        padding-right: 20px !important;
        margin: 0 !important;
    }
    
    /* Hero section mobile */
    .hero-content {
        grid-template-columns: 1fr !important;
        text-align: center;
        gap: 20px;
    }
    
    /* Navigation mobile */
    .nav-menu {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* Widget cards mobile layout */
    .widget-cards-row {
        grid-template-columns: 1fr !important;
        gap: 16px;
        padding: 0 20px;
    }
    
    /* Card layouts mobile */
    .research-grid, .highlights-grid, .ai-tools-grid {
        grid-template-columns: 1fr !important;
        gap: 16px;
    }
    
    /* About page mobile */
    .about-content-enhanced {
        grid-template-columns: 1fr !important;
        gap: 20px;
    }
    
    /* Publications mobile */
    .pubs__grid {
        grid-template-columns: 1fr !important;
    }
    
    /* Hero section mobile adjustments */
    .about-minimal-hero, 
    .publications-minimal-hero, 
    .conferences-minimal-hero,
    .research-minimal-hero,
    .blog-minimal-hero,
    .contact-minimal-hero {
        margin: 0 -20px !important;
        width: calc(100vw) !important;
        border-radius: 0 !important;
        padding: 32px 20px !important;
    }
    
    /* Text size adjustments */
    .hero-title, .about-main-title, .publications-main-title,
    .conferences-main-title, .research-main-title,
    .blog-main-title, .contact-main-title {
        font-size: clamp(1.8rem, 6vw, 2.2rem) !important;
    }
}

/* Small Mobile (480px and below) */
@media screen and (max-width: 480px) {
    /* Container for small mobile */
    .container {
        padding-left: 15px !important;
        padding-right: 15px !important;
    }
    
    /* Hero sections for small mobile */
    .about-minimal-hero, 
    .publications-minimal-hero, 
    .conferences-minimal-hero,
    .research-minimal-hero,
    .blog-minimal-hero,
    .contact-minimal-hero {
        margin: 0 -15px !important;
        padding: 25px 15px !important;
        width: calc(100vw) !important;
    }
    
    /* Widget cards small mobile */
    .widget-cards-row {
        padding: 0 15px;
        gap: 12px;
    }
    
    /* Small mobile text adjustments */
    .hero-title, .about-main-title, .publications-main-title {
        font-size: clamp(1.5rem, 8vw, 1.8rem) !important;
    }
    
    /* Button adjustments */
    .hero-buttons {
        flex-direction: column;
        align-items: center;
        gap: 12px;
    }
    
    .btn {
        width: 100% !important;
        max-width: 280px;
        text-align: center;
    }
}

/* Extra Small Mobile (360px and below) */
@media screen and (max-width: 360px) {
    .container {
        padding-left: 12px !important;
        padding-right: 12px !important;
    }
    
    .widget-cards-row {
        padding: 0 12px;
        gap: 10px;
    }
    
    .hero-title {
        font-size: clamp(1.3rem, 9vw, 1.6rem) !important;
    }
}

/* ===== 13. HORIZONTAL SCROLL PREVENTION FOR SPECIFIC ELEMENTS ===== */

/* Prevent specific problematic elements from causing overflow */
.research-profile-link, .blog-btn, .conference-link {
    max-width: 100% !important;
    overflow: hidden !important;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Email modal responsive */
.email-modal .email-content {
    max-width: calc(100vw - 40px) !important;
    margin: 20px;
}

/* Citation and footnote fixes */
.footnote-modal .footnote-content {
    max-width: calc(100vw - 32px) !important;
    margin: 16px;
}

/* ===== 14. ANIMATION AND TRANSFORM FIXES ===== */

/* Ensure animations don't cause overflow */
@keyframes typing, auroraFloat, modalSlideIn {
    from, to {
        max-width: 100% !important;
    }
}

/* Transform fixes */
.floating-shape, .hero-background {
    transform-origin: center center;
    max-width: 100vw !important;
}

/* ===== 15. ACCESSIBILITY AND FOCUS FIXES ===== */

/* Focus outline fixes */
*:focus, *:focus-visible {
    outline-offset: 2px !important;
    max-width: calc(100% - 4px) !important;
}

/* ===== 16. PRINT MEDIA RESPONSIVE FIXES ===== */

@media print {
    * {
        max-width: 100% !important;
        overflow: visible !important;
    }
    
    .container {
        padding: 0 !important;
        margin: 0 !important;
    }
}

/* ===== 17. LANDSCAPE ORIENTATION FIXES ===== */

@media screen and (orientation: landscape) and (max-height: 500px) {
    .hero-section {
        min-height: 50vh !important;
    }
    
    .container {
        padding-left: 5vw !important;
        padding-right: 5vw !important;
    }
}

/* ===== 18. HIGH DPI DISPLAY FIXES ===== */

@media screen and (-webkit-min-device-pixel-ratio: 2), 
       screen and (min-resolution: 192dpi) {
    .container {
        padding-left: clamp(12px, 3vw, 20px) !important;
        padding-right: clamp(12px, 3vw, 20px) !important;
    }
}

/* ===== 19. FALLBACK OVERFLOW PREVENTION ===== */

/* Final fallback to prevent any possible horizontal overflow */
body > * {
    max-width: 100vw !important;
}

.page > * {
    max-width: 100% !important;
}

/* ===== 20. DEBUGGING AIDS (Remove in production) ===== */

/* Uncomment these lines for debugging overflow issues
* {
    outline: 1px solid red !important;
}

body {
    border: 2px solid blue !important;
}
*/