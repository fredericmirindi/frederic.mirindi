<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teaching | Frédéric Mirindi</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root, html.dark {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --text-primary: #d1d5db;
      --text-white: #ffffff;
      --text-muted: #9ca3af;
      --accent-color: #00e5e5;
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --linkedin-blue: #0077b5;       --navbar-bg: rgba(10, 10, 15, 0.85);       --theme-btn-bg: rgba(255,255,255,0.07);       --theme-btn-border: rgba(255,255,255,0.15);
    }
          html.light {
        --bg-primary: #f5f6fa;
        --bg-secondary: #ffffff;
        --text-primary: #374151;
        --text-white: #111827;
        --text-muted: #6b7280;
        --accent-color: #0891b2;
        --glass-bg: rgba(0, 0, 0, 0.03);
        --glass-border: rgba(0, 0, 0, 0.10);
        --linkedin-blue: #0077b5;
        --navbar-bg: rgba(245, 246, 250, 0.92);
        --theme-btn-bg: rgba(0,0,0,0.06);
        --theme-btn-border: rgba(0,0,0,0.12);
      }
      * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      overflow-x: hidden; transition: background-color 0.3s ease, color 0.3s ease;
    }
    a { color: var(--accent-color); text-decoration: none; }
    a:hover { text-decoration: underline; }
    /* Navbar */
    .navbar { background: var(--navbar-bg); transition: background 0.3s ease; border-bottom: 1px solid var(--glass-border); padding: 0.75rem 2rem; position: fixed; top: 0; left: 0; right: 0; z-index: 100; backdrop-filter: blur(12px); }
    .navbar-container { max-width: 80rem; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
    .navbar-brand { display: flex; align-items: center; gap: 0.75rem; }
    .navbar-brand h1 { font-size: 1.35rem; font-weight: 700; color: var(--text-white); }
          .navbar-menu { display: flex; align-items: center; gap: 1.5rem; }
    .nav-links { display: flex; gap: 0.25rem; }
    .nav-link { display: flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.9rem; border-radius: 0.4rem; color: var(--text-muted); font-weight: 500; font-size: 0.9rem; transition: all 0.3s ease; text-decoration: none; }
    .nav-link:hover, .nav-link.active { background: var(--glass-bg); color: var(--text-white); text-decoration: none; }
    .nav-link.active { border-bottom: 2px solid var(--accent-color); }
                .social-icons-nav { display: flex; align-items: center; gap: 0.75rem; }
    .social-icon { font-size: 1.1rem; color: var(--text-muted); transition: transform 0.3s ease, color 0.3s ease; }
    .social-icon:hover { transform: translateY(-2px); color: var(--accent-color); }
    .icon-linkedin { color: var(--linkedin-blue) !important; }
          /* Appearance Toggle */
              .appearance-toggle { display: flex; align-items: center; gap: 0.3rem; background: var(--theme-btn-bg); border: 1.5px solid var(--theme-btn-border); border-radius: 2rem; padding: 0.28rem 0.5rem; cursor: pointer; transition: all 0.3s ease; position: relative; }
              .appearance-toggle:hover { border-color: var(--accent-color); box-shadow: 0 0 10px rgba(0,229,229,0.12); }
              .theme-option { display: flex; align-items: center; gap: 0.3rem; padding: 0.22rem 0.65rem; border-radius: 1.5rem; font-size: 0.78rem; font-weight: 600; color: var(--text-muted); transition: all 0.25s ease; user-select: none; letter-spacing: 0.02em; border: none; background: none; cursor: pointer; }
      .theme-option svg { width: 14px; height: 14px; flex-shrink: 0; }
      .theme-option.active { background: var(--accent-color); color: #0a0a0f; box-shadow: 0 2px 8px rgba(0,229,229,0.3); }
      html.light .theme-option.active { color: #fff; }
/* Hero Banner */
      .research-hero { position: relative; width: 100%; height: 420px; margin-top: 56px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #0a0a1a 0%, #0d1b2a 40%, #0a2233 70%, #081820 100%); }
      html.light .research-hero { background: linear-gradient(135deg, #e8f4f8 0%, #d0eaf5 40%, #b8dff0 70%, #c5e8f0 100%); }
      .research-hero-title { position: relative; z-index: 2; text-align: center; color: #ffffff; font-size: 3rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }
      .research-hero-title .accent-bar { display: block; width: 60px; height: 3px; background: var(--accent-color); margin: 0.5rem auto 0; }
      #hero-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
    /* Main content */
    .page-section { padding: 3rem 4rem 4rem 4rem; max-width: 60rem; margin: 0 auto; }
    /* Cards */
    .card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 0.75rem; padding: 2rem; margin-bottom: 1.75rem; backdrop-filter: blur(5px); transition: border-color 0.3s ease; }
    .card:hover { border-color: rgba(0,229,229,0.22); }
    .card h2 { font-size: 1.25rem; font-weight: 700; color: var(--text-white); margin-bottom: 0.85rem; display: flex; align-items: center; gap: 0.6rem; }
    .card h2::before { content: ''; display: inline-block; width: 3px; height: 1.1em; background: var(--accent-color); border-radius: 2px; flex-shrink: 0; }
    /* Teaching course entries */
    .teaching-institution { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.25rem; padding-bottom: 1rem; border-bottom: 1px solid var(--glass-border); }
    .teaching-institution img { width: 52px; height: 52px; object-fit: contain; border-radius: 0.4rem; background: rgba(255,255,255,0.05); padding: 4px; flex-shrink: 0; }
    .teaching-institution-info { flex: 1; }
    .teaching-institution-name { font-size: 1rem; font-weight: 700; color: var(--text-white); margin-bottom: 0.1rem; }
    .teaching-institution-location { font-size: 0.82rem; color: var(--text-muted); font-style: italic; }
    .course-list { list-style: none; padding: 0; }
    .course-item { display: flex; align-items: flex-start; gap: 1rem; padding: 0.85rem 0; border-bottom: 1px solid var(--glass-border); }
    .course-item:last-child { border-bottom: none; padding-bottom: 0; }
    .course-img { width: 44px; height: 44px; object-fit: contain; border-radius: 0.4rem; background: rgba(255,255,255,0.04); padding: 4px; flex-shrink: 0; margin-top: 0.1rem; }
    .course-info { flex: 1; }
    .course-code { font-size: 0.78rem; font-weight: 700; color: var(--accent-color); letter-spacing: 0.06em; text-transform: uppercase; margin-bottom: 0.1rem; }
    .course-title { font-size: 1rem; font-weight: 600; color: var(--text-white); margin-bottom: 0.15rem; }
    .course-meta { font-size: 0.82rem; color: var(--text-muted); }
    .course-badge { display: inline-block; padding: 0.12rem 0.5rem; border-radius: 0.25rem; font-size: 0.72rem; font-weight: 700; margin-right: 0.3rem; }
    .badge-current { background: rgba(0,229,229,0.12); color: var(--accent-color); }
    .badge-year { background: rgba(255,255,255,0.06); color: var(--text-muted); }
    .badge-semester { background: rgba(139,92,246,0.15); color: #a78bfa; }
    .role-badge { display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.2rem 0.7rem; border-radius: 2rem; font-size: 0.78rem; font-weight: 700; background: rgba(0,229,229,0.08); color: var(--accent-color); border: 1px solid rgba(0,229,229,0.18); margin-bottom: 1rem; }
    .teaching-intro { font-size: 0.93rem; color: var(--text-primary); margin-bottom: 1.25rem; line-height: 1.7; }
    /* Footer */
    footer { padding: 1.5rem; text-align: center; border-top: 1px solid var(--glass-border); }
    footer p { font-size: 0.8rem; color: var(--text-muted); }
    .mobile-linkedin-nav { display: none; align-items: center; }
    .mobile-linkedin-nav a { color: var(--linkedin-blue); font-size: 1.4rem; }
    /* Hamburger */
    .menu-toggle { display: none; background: none; border: none; color: var(--text-white); font-size: 1.4rem; cursor: pointer; padding: 0.5rem; z-index: 101; }
    /* Tablet */
    @media (max-width: 768px) {
      .menu-toggle { display: none !important; }
      .mobile-linkedin-nav { display: flex; align-items: center; }
      .navbar { padding: 0.6rem 1rem; }
      .navbar-menu { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: var(--bg-secondary); flex-direction: column; align-items: center; justify-content: center; gap: 2rem; z-index: 100; }
      .navbar-menu.active { display: flex; }
      .nav-links { flex-direction: column; align-items: center; gap: 1rem; }
      .nav-link { font-size: 1.2rem; padding: 0.7rem 1.5rem; }
      . { gap: 1.5rem; }
      .social-icon { font-size: 1.4rem; }
      .research-hero { height: 240px; }
      .research-hero-title { font-size: 2.2rem; }
      .page-section { padding: 2rem 1.5rem 3rem 1.5rem; }
      .card { padding: 1.25rem; }
    }
    /* Phone */
    @media (max-width: 480px) {
      .research-hero { height: 180px; }
      .research-hero-title { font-size: 1.75rem; }
      .page-section { padding: 1.5rem 1rem 2rem 1rem; }
      .card { padding: 1rem; }
      .card h2 { font-size: 1.1rem; }
      .navbar-brand h1 { font-size: 1.1rem; }
      footer { padding: 1rem; }
      footer p { font-size: 0.7rem; }
    }
    /* Mobile Bottom Tab Bar */
    .mobile-bottom-nav { display:none; position:fixed; bottom:0; left:0; right:0; z-index:1000; background:rgba(10,10,15,0.97); border-top:1px solid var(--glass-border); backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px); padding:0.35rem 0; padding-bottom:env(safe-area-inset-bottom,0); }
    .mobile-bottom-nav-container { display:flex; justify-content:space-around; align-items:center; max-width:100%; }
    .mobile-bottom-nav-item { display:flex; flex-direction:column; align-items:center; justify-content:center; text-decoration:none; color:var(--text-muted); font-size:0.62rem; padding:0.25rem 0.5rem; border-radius:0.5rem; transition:color 0.2s ease; gap:0.12rem; flex:1; position:relative; }
    .mobile-bottom-nav-item i { font-size:1.1rem; transition:transform 0.2s ease; }
    .mobile-bottom-nav-item span { font-weight:500; letter-spacing:0.02em; }
    .mobile-bottom-nav-item:hover, .mobile-bottom-nav-item.active { color:var(--accent-color); text-decoration:none; }
    .mobile-bottom-nav-item.active i { transform:scale(1.1); }
    .mobile-bottom-nav-item.active::before { content:''; position:absolute; top:-0.35rem; left:50%; transform:translateX(-50%); width:1.8rem; height:2px; background:var(--accent-color); border-radius:2px; box-shadow:0 0 6px rgba(0,229,229,0.4); }
    @media (max-width:768px) { .mobile-bottom-nav { display:block; } body { padding-bottom:3.5rem; } footer { margin-bottom:3.5rem; } }
        #geo-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
    html.light .mobile-bottom-nav { background: rgba(245,246,250,0.97); }
    </style>
</head>
  <body>
        <canvas id="geo-canvas"></canvas>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <div class="navbar-brand"><a href="index.html" style="text-decoration: none;"><h1>Frédéric Mirindi</h1></a></div>
        <button class="menu-toggle" aria-label="Toggle menu" onclick="toggleMenu()"><i class="fas fa-bars" id="menu-icon"></i></button>
        <div class="mobile-linkedin-nav"><a href="https://www.linkedin.com/in/fredericmirindi" target="_blank" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a></div>
        <div class="navbar-menu" id="navbar-menu">
          <div class="nav-links">
            <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="research.html" class="nav-link"><i class="fas fa-flask"></i> Research</a>
            <a href="publications.html" class="nav-link"><i class="fas fa-book"></i> Publications</a>
            <a href="conferences.html" class="nav-link"><i class="fas fa-microphone"></i> Conferences</a>
            <a href="teaching.html" class="nav-link active"><i class="fas fa-graduation-cap"></i> Teaching</a>
            <a href="contact.html" class="nav-link"><i class="fas fa-envelope"></i> Contact</a>
          </div>
          <div class="social-icons-nav"><a href="https://www.linkedin.com/in/fredericmirindi" target="_blank" class="social-icon icon-linkedin"><i class="fa-brands fa-linkedin"></i></a></div>
          <!-- Appearance Toggle -->
          <div class="appearance-toggle" id="appearanceToggle" role="group" aria-label="Appearance">
            <button class="theme-option" id="btn-light" onclick="setTheme('light')" title="Light mode"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg> L</button>
            <button class="theme-option" id="btn-dark" onclick="setTheme('dark')" title="Dark mode"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg> D</button>
          </div>
        </div>
      </div>
    </nav>

      <!-- Hero Banner -->
    <section class="research-hero">
      <canvas id="hero-canvas"></canvas>
      <div class="research-hero-title">
        Teaching
        <span class="accent-bar"></span>
      </div>
    </section>

  <!-- Main Content -->
  <main class="page-section">

    <!-- Booth University College -->
    <div class="card">
      <h2><i class="fas fa-university"></i> Booth University College</h2>

      <div class="teaching-institution">
        <img src="images/Booth_University_College.svg" alt="Booth University College logo">
        <div class="teaching-institution-info">
          <div class="teaching-institution-name">Booth University College</div>
          <div class="teaching-institution-location">Winnipeg, Manitoba, Canada</div>
        </div>
      </div>

      <div class="role-badge"><i class="fas fa-user-tie"></i> Lecturer</div>

      <p class="teaching-intro">
        The following courses are delivered at Booth University College, an accredited liberal arts institution in Winnipeg, Canada. These courses span economics, mathematics, and business disciplines, serving undergraduate students across multiple programs.
      </p>

      <ul class="course-list">
        <li class="course-item">
          <img src="images/micro.PNG" alt="Microeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO110</div>
            <div class="course-title">Introduction to Microeconomics</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/math.PNG" alt="Calculus icon" class="course-img">
          <div class="course-info">
            <div class="course-code">MAT110</div>
            <div class="course-title">Calculus</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/math.PNG" alt="Applied Mathematics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">MAT100</div>
            <div class="course-title">Applied Finite Mathematics</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/resmeth.PNG" alt="Research Methods icon" class="course-img">
          <div class="course-info">
            <div class="course-code">BHS200</div>
            <div class="course-title">Research Methods</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/bis.PNG" alt="Business Information Systems icon" class="course-img">
          <div class="course-info">
            <div class="course-code">BHS270</div>
            <div class="course-title">Business Information Systems</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
      </nav>
    </div>

    <!-- Universite de Saint-Boniface -->
    <div class="card">
      <h2><i class="fas fa-language"></i> Université de Saint-Boniface</h2>

      <div class="teaching-institution">
        <img src="images/université saint boniface.png" alt="Université de Saint-Boniface logo">
        <div class="teaching-institution-info">
          <div class="teaching-institution-name">Université de Saint-Boniface</div>
          <div class="teaching-institution-location">Saint-Boniface, Manitoba, Canada</div>
        </div>
      </div>

      <div class="role-badge"><i class="fas fa-user-tie"></i> Chargé de cours</div>

      <p class="teaching-intro">
        Ces cours sont donnés en français à l'Université de Saint-Boniface, la seule université francophone de l'Ouest canadien. Ils s'inscrivent dans le programme de sciences économiques destiné aux étudiants de premier cycle.
      </p>

      <ul class="course-list">
        <li class="course-item">
          <img src="images/micro.PNG" alt="Microeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO &mdash; Micro</div>
            <div class="course-title">Introduction à la Microéconomie</div>
            <div class="course-meta">
              <span class="course-badge badge-semester">Printemps 2025</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/macro.PNG" alt="Macroeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO &mdash; Macro</div>
            <div class="course-title">Introduction à la Macroéconomie</div>
            <div class="course-meta">
              <span class="course-badge badge-semester">Hiver 2026</span>
            </div>
          </div>
        
      </nav>
    </div>

  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2018 Frédéric Mirindi. All rights reserved.</p>
  </footer>

  <!-- Mobile Bottom Nav -->
  <nav class="mobile-bottom-nav" aria-label="Mobile navigation">
    <div class="mobile-bottom-nav-container">
      <a href="index.html" class="mobile-bottom-nav-item">
        <i class="fas fa-home"></i><span>Home</span>
      </a>
      <a href="research.html" class="mobile-bottom-nav-item">
        <i class="fas fa-flask"></i><span>Research</span>
      </a>
      <a href="publications.html" class="mobile-bottom-nav-item">
        <i class="fas fa-book"></i><span>Publications</span>
      </a>
      <a href="conferences.html" class="mobile-bottom-nav-item">
        <i class="fas fa-microphone"></i><span>Conferences</span>
      </a>
      <a href="teaching.html" class="mobile-bottom-nav-item active">
        <i class="fas fa-graduation-cap"></i><span>Teaching</span>
      </a>
              <a href="contact.html" class="mobile-bottom-nav-item">
            <i class="fas fa-envelope"></i><span>Contact</span>
        </a>
    </div>
  </nav>

  <script>
    function setTheme(theme) { const html = document.documentElement; html.classList.remove('dark', 'light'); html.classList.add(theme); localStorage.setItem('theme', theme); document.getElementById('btn-light').classList.toggle('active', theme === 'light'); document.getElementById('btn-dark').classList.toggle('active', theme === 'dark'); document.getElementById('btn-light').setAttribute('aria-pressed', theme === 'light'); document.getElementById('btn-dark').setAttribute('aria-pressed', theme === 'dark'); } (function() { const saved = localStorage.getItem('theme') || 'dark'; setTheme(saved); })(); function toggleMenu() {
      const menu = document.getElementById('navbar-menu');
      const icon = document.getElementById('menu-icon');
      menu.classList.toggle('active');
      if (menu.classList.contains('active')) {
        icon.classList.remove('fa-bars');
        icon.classList.add('fa-times');
      } else {
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
    }
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        const menu = document.getElementById('navbar-menu');
        const icon = document.getElementById('menu-icon');
        menu.classList.remove('active');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      });
    });
  </script>
<script>
  (function() {
    const canvas = document.getElementById('hero-canvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let W, H;
    function resize() { W = canvas.width = canvas.parentElement.offsetWidth; H = canvas.height = canvas.parentElement.offsetHeight; }
    window.addEventListener('resize', resize); resize();
    const isDark = () => document.documentElement.classList.contains('dark');

    // Precise human side-profile (facing right) — normalized coordinates
    // Carefully crafted: skull top, forehead, brow, nose, lips, chin, jaw, neck, back of head
    const headOutline = [
      // Top of skull
      [0.42,0.08],[0.46,0.06],[0.50,0.05],[0.54,0.05],[0.58,0.06],[0.62,0.08],
      // Forehead slope down
      [0.65,0.11],[0.67,0.15],[0.68,0.19],[0.685,0.23],
      // Brow ridge
      [0.69,0.27],[0.695,0.30],
      // Eye socket indent
      [0.69,0.33],[0.685,0.35],
      // Bridge of nose
      [0.69,0.37],[0.70,0.39],[0.71,0.41],[0.72,0.43],
      // Nose tip and bottom
      [0.74,0.45],[0.75,0.46],[0.745,0.475],[0.725,0.48],
      // Upper lip
      [0.70,0.485],[0.695,0.50],[0.70,0.51],
      // Lower lip
      [0.71,0.525],[0.705,0.54],[0.69,0.55],
      // Chin
      [0.68,0.57],[0.675,0.59],[0.67,0.62],[0.665,0.645],[0.66,0.67],
      // Jaw line going back
      [0.65,0.69],[0.63,0.71],[0.60,0.73],[0.57,0.745],[0.54,0.755],
      // Under jaw / throat
      [0.51,0.76],[0.48,0.765],[0.46,0.775],
      // Neck
      [0.45,0.80],[0.445,0.84],[0.44,0.88],[0.44,0.92],[0.445,0.95],
      // Neck back bottom
      [0.40,0.95],[0.38,0.92],[0.37,0.88],
      // Back of neck up
      [0.365,0.84],[0.36,0.80],[0.355,0.76],
      // Back of skull
      [0.35,0.72],[0.34,0.68],[0.335,0.64],[0.33,0.60],
      [0.325,0.56],[0.32,0.52],[0.315,0.48],[0.315,0.44],
      [0.32,0.40],[0.325,0.36],[0.33,0.32],[0.335,0.28],
      [0.34,0.24],[0.35,0.20],[0.36,0.16],[0.37,0.13],
      [0.39,0.10],[0.42,0.08]
    ];

    let nodes = [], edges = [], tris = [];

    function lerp(a, b, t) { return a + (b - a) * t; }

    function isInsideHead(px, py) {
      let inside = false;
      for (let i = 0, j = headOutline.length - 1; i < headOutline.length; j = i++) {
        const [xi, yi] = headOutline[i], [xj, yj] = headOutline[j];
        if (((yi > py) !== (yj > py)) && (px < (xj - xi) * (py - yi) / (yj - yi) + xi)) inside = !inside;
      }
      return inside;
    }

    function dist(a, b) { return Math.sqrt((a.ox-b.ox)**2 + (a.oy-b.oy)**2); }

    function buildMesh() {
      nodes = []; edges = []; tris = [];
      const scale = Math.min(W, H) * 0.95;
      const ox = W/2 - scale*0.52, oy = H/2 - scale*0.5;

      // Outline nodes (subdivided for density)
      for (let i = 0; i < headOutline.length; i++) {
        const [x1,y1] = headOutline[i];
        const [x2,y2] = headOutline[(i+1)%headOutline.length];
        nodes.push({ ox: ox+x1*scale, oy: oy+y1*scale, r: 1.8, outline: true, pulse: Math.random()*6.28, ps: 0.012+Math.random()*0.018 });
        // Add midpoint
        nodes.push({ ox: ox+lerp(x1,x2,0.5)*scale, oy: oy+lerp(y1,y2,0.5)*scale, r: 1.2, outline: true, pulse: Math.random()*6.28, ps: 0.01+Math.random()*0.015 });
      }

      // Interior nodes — scattered inside the head with good density
      const gridStep = 0.025;
      for (let gx = 0.30; gx <= 0.76; gx += gridStep) {
        for (let gy = 0.04; gy <= 0.96; gy += gridStep) {
          const jx = gx + (Math.random()-0.5)*gridStep*0.6;
          const jy = gy + (Math.random()-0.5)*gridStep*0.6;
          if (isInsideHead(jx, jy)) {
            nodes.push({ ox: ox+jx*scale, oy: oy+jy*scale, r: 0.8+Math.random()*1.2, outline: false, pulse: Math.random()*6.28, ps: 0.006+Math.random()*0.012 });
          }
        }
      }

      // Build edges: connect nearby nodes
      const maxD = scale * 0.055;
      for (let i = 0; i < nodes.length; i++) {
        nodes[i].x = nodes[i].ox; nodes[i].y = nodes[i].oy;
        let cnt = 0;
        for (let j = i+1; j < nodes.length && cnt < 5; j++) {
          const d = dist(nodes[i], nodes[j]);
          if (d < maxD) { edges.push([i,j,d]); cnt++; }
        }
      }

      // Build triangles from shared-edge triplets
      const adj = new Map();
      edges.forEach(([a,b]) => {
        if (!adj.has(a)) adj.set(a, new Set());
        if (!adj.has(b)) adj.set(b, new Set());
        adj.get(a).add(b); adj.get(b).add(a);
      });
      const triSet = new Set();
      edges.forEach(([a,b]) => {
        if (!adj.has(a) || !adj.has(b)) return;
        adj.get(a).forEach(c => {
          if (c > b && adj.get(b).has(c)) {
            const key = [a,b,c].sort().join(',');
            if (!triSet.has(key)) { triSet.add(key); tris.push([a,b,c]); }
          }
        });
      });
    }

    buildMesh();
    window.addEventListener('resize', () => { resize(); buildMesh(); });

    // Ambient floating particles
    const sparks = [];
    for (let i = 0; i < 40; i++) sparks.push({ x:Math.random()*2000, y:Math.random()*600, vx:(Math.random()-0.5)*0.25, vy:(Math.random()-0.5)*0.15, r:0.4+Math.random()*1.2, a:0.08+Math.random()*0.15 });

    function draw(t) {
      ctx.clearRect(0,0,W,H);
      const dk = isDark();
      const ac = dk ? [0,229,229] : [8,145,178];
      const nc = dk ? [180,220,255] : [8,145,178];

      // Animate node positions (gentle float)
      nodes.forEach((n,i) => {
        n.pulse += n.ps;
        n.x = n.ox + Math.sin(t*0.0006+i*0.7)*1.5;
        n.y = n.oy + Math.cos(t*0.0008+i*0.5)*1.2;
      });

      // Draw filled triangles
      tris.forEach(([a,b,c]) => {
        const al = dk ? 0.025+Math.sin(t*0.0008+a*0.1)*0.012 : 0.035+Math.sin(t*0.0008+a*0.1)*0.015;
        ctx.beginPath();
        ctx.moveTo(nodes[a].x, nodes[a].y);
        ctx.lineTo(nodes[b].x, nodes[b].y);
        ctx.lineTo(nodes[c].x, nodes[c].y);
        ctx.closePath();
        ctx.fillStyle = 'rgba('+ac[0]+','+ac[1]+','+ac[2]+','+al+')';
        ctx.fill();
      });

      // Draw edges
      const mxD = Math.min(W,H)*0.95*0.055;
      edges.forEach(([i,j,d]) => {
        const al = (1-d/mxD)*(dk?0.22:0.18);
        ctx.beginPath(); ctx.moveTo(nodes[i].x,nodes[i].y); ctx.lineTo(nodes[j].x,nodes[j].y);
        ctx.strokeStyle='rgba('+ac[0]+','+ac[1]+','+ac[2]+','+al+')'; ctx.lineWidth=0.6; ctx.stroke();
      });

      // Draw nodes
      nodes.forEach(n => {
        const g = 0.5+Math.sin(n.pulse)*0.3;
        const r = n.r*(0.85+g*0.3);
        const al = n.outline ? (dk?0.85:0.7) : (dk?0.35+g*0.25:0.3+g*0.2);
        ctx.beginPath(); ctx.arc(n.x,n.y,r,0,6.28);
        ctx.fillStyle='rgba('+nc[0]+','+nc[1]+','+nc[2]+','+al+')'; ctx.fill();
        if (n.outline && r > 1.4) {
          ctx.beginPath(); ctx.arc(n.x,n.y,r+2.5,0,6.28);
          ctx.fillStyle='rgba('+ac[0]+','+ac[1]+','+ac[2]+','+(al*0.15)+')'; ctx.fill();
        }
      });

      // Ambient sparks
      sparks.forEach(p => {
        p.x+=p.vx; p.y+=p.vy;
        if(p.x<-20)p.x=W+20; if(p.x>W+20)p.x=-20;
        if(p.y<-20)p.y=H+20; if(p.y>H+20)p.y=-20;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,6.28);
        ctx.fillStyle='rgba('+ac[0]+','+ac[1]+','+ac[2]+','+p.a+')'; ctx.fill();
      });

      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);
  })();
  </script>
</html>
