<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teaching | Frédéric Mirindi</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root, html.dark {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --text-primary: #d1d5db;
      --text-white: #ffffff;
      --text-muted: #9ca3af;
      --accent-color: #00e5e5;
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --linkedin-blue: #0077b5;       --navbar-bg: rgba(10, 10, 15, 0.85);       --theme-btn-bg: rgba(255,255,255,0.07);       --theme-btn-border: rgba(255,255,255,0.15);
    }
          html.light {
        --bg-primary: #f5f6fa;
        --bg-secondary: #ffffff;
        --text-primary: #374151;
        --text-white: #111827;
        --text-muted: #6b7280;
        --accent-color: #0891b2;
        --glass-bg: rgba(0, 0, 0, 0.03);
        --glass-border: rgba(0, 0, 0, 0.10);
        --linkedin-blue: #0077b5;
        --navbar-bg: rgba(245, 246, 250, 0.92);
        --theme-btn-bg: rgba(0,0,0,0.06);
        --theme-btn-border: rgba(0,0,0,0.12);
      }
      * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      overflow-x: hidden; transition: background-color 0.3s ease, color 0.3s ease;
    }
    a { color: var(--accent-color); text-decoration: none; }
    a:hover { text-decoration: underline; }
    /* Navbar */
    .navbar { background: var(--navbar-bg); transition: background 0.3s ease; border-bottom: 1px solid var(--glass-border); padding: 0.75rem 2rem; position: fixed; top: 0; left: 0; right: 0; z-index: 100; backdrop-filter: blur(12px); }
    .navbar-container { max-width: 80rem; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
    .navbar-brand { display: flex; align-items: center; gap: 0.75rem; }
    .navbar-brand h1 { font-size: 1.35rem; font-weight: 700; color: var(--text-white); }
          .navbar-menu { display: flex; align-items: center; gap: 1.5rem; }
    .nav-links { display: flex; gap: 0.25rem; }
    .nav-link { display: flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.9rem; border-radius: 0.4rem; color: var(--text-muted); font-weight: 500; font-size: 0.9rem; transition: all 0.3s ease; text-decoration: none; }
    .nav-link:hover, .nav-link.active { background: var(--glass-bg); color: var(--text-white); text-decoration: none; }
    .nav-link.active { border-bottom: 2px solid var(--accent-color); }
                .social-icons-nav { display: flex; align-items: center; gap: 0.75rem; }
    .social-icon { font-size: 1.1rem; color: var(--text-muted); transition: transform 0.3s ease, color 0.3s ease; }
    .social-icon:hover { transform: translateY(-2px); color: var(--accent-color); }
    .icon-linkedin { color: var(--linkedin-blue) !important; }
          /* Appearance Toggle */
              .appearance-toggle { display: flex; align-items: center; gap: 0.3rem; background: var(--theme-btn-bg); border: 1.5px solid var(--theme-btn-border); border-radius: 2rem; padding: 0.28rem 0.5rem; cursor: pointer; transition: all 0.3s ease; position: relative; }
              .appearance-toggle:hover { border-color: var(--accent-color); box-shadow: 0 0 10px rgba(0,229,229,0.12); }
              .theme-option { display: flex; align-items: center; gap: 0.3rem; padding: 0.22rem 0.65rem; border-radius: 1.5rem; font-size: 0.78rem; font-weight: 600; color: var(--text-muted); transition: all 0.25s ease; user-select: none; letter-spacing: 0.02em; border: none; background: none; cursor: pointer; }
      .theme-option svg { width: 14px; height: 14px; flex-shrink: 0; }
      .theme-option.active { background: var(--accent-color); color: #0a0a0f; box-shadow: 0 2px 8px rgba(0,229,229,0.3); }
      html.light .theme-option.active { color: #fff; }
/* Hero Banner */
      .research-hero { position: relative; width: 100%; height: 420px; margin-top: 56px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #0a0a1a 0%, #0d1b2a 40%, #0a2233 70%, #081820 100%); }
      html.light .research-hero { background: linear-gradient(135deg, #e8f4f8 0%, #d0eaf5 40%, #b8dff0 70%, #c5e8f0 100%); }
      .research-hero-title { position: relative; z-index: 2; text-align: center; color: #ffffff; font-size: 3rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }
      .research-hero-title .accent-bar { display: block; width: 60px; height: 3px; background: var(--accent-color); margin: 0.5rem auto 0; }
      #hero-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
    /* Main content */
    .page-section { padding: 3rem 4rem 4rem 4rem; max-width: 60rem; margin: 0 auto; }
    /* Cards */
    .card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 0.75rem; padding: 2rem; margin-bottom: 1.75rem; backdrop-filter: blur(5px); transition: border-color 0.3s ease; }
    .card:hover { border-color: rgba(0,229,229,0.22); }
    .card h2 { font-size: 1.25rem; font-weight: 700; color: var(--text-white); margin-bottom: 0.85rem; display: flex; align-items: center; gap: 0.6rem; }
    .card h2::before { content: ''; display: inline-block; width: 3px; height: 1.1em; background: var(--accent-color); border-radius: 2px; flex-shrink: 0; }
    /* Teaching course entries */
    .teaching-institution { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.25rem; padding-bottom: 1rem; border-bottom: 1px solid var(--glass-border); }
    .teaching-institution img { width: 52px; height: 52px; object-fit: contain; border-radius: 0.4rem; background: rgba(255,255,255,0.05); padding: 4px; flex-shrink: 0; }
    .teaching-institution-info { flex: 1; }
    .teaching-institution-name { font-size: 1rem; font-weight: 700; color: var(--text-white); margin-bottom: 0.1rem; }
    .teaching-institution-location { font-size: 0.82rem; color: var(--text-muted); font-style: italic; }
    .course-list { list-style: none; padding: 0; }
    .course-item { display: flex; align-items: flex-start; gap: 1rem; padding: 0.85rem 0; border-bottom: 1px solid var(--glass-border); }
    .course-item:last-child { border-bottom: none; padding-bottom: 0; }
    .course-img { width: 44px; height: 44px; object-fit: contain; border-radius: 0.4rem; background: rgba(255,255,255,0.04); padding: 4px; flex-shrink: 0; margin-top: 0.1rem; }
    .course-info { flex: 1; }
    .course-code { font-size: 0.78rem; font-weight: 700; color: var(--accent-color); letter-spacing: 0.06em; text-transform: uppercase; margin-bottom: 0.1rem; }
    .course-title { font-size: 1rem; font-weight: 600; color: var(--text-white); margin-bottom: 0.15rem; }
    .course-meta { font-size: 0.82rem; color: var(--text-muted); }
    .course-badge { display: inline-block; padding: 0.12rem 0.5rem; border-radius: 0.25rem; font-size: 0.72rem; font-weight: 700; margin-right: 0.3rem; }
    .badge-current { background: rgba(0,229,229,0.12); color: var(--accent-color); }
    .badge-year { background: rgba(255,255,255,0.06); color: var(--text-muted); }
    .badge-semester { background: rgba(139,92,246,0.15); color: #a78bfa; }
    .role-badge { display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.2rem 0.7rem; border-radius: 2rem; font-size: 0.78rem; font-weight: 700; background: rgba(0,229,229,0.08); color: var(--accent-color); border: 1px solid rgba(0,229,229,0.18); margin-bottom: 1rem; }
    .teaching-intro { font-size: 0.93rem; color: var(--text-primary); margin-bottom: 1.25rem; line-height: 1.7; }
    /* Footer */
    footer { padding: 1.5rem; text-align: center; border-top: 1px solid var(--glass-border); }
    footer p { font-size: 0.8rem; color: var(--text-muted); }
    .mobile-linkedin-nav { display: none; align-items: center; }
    .mobile-linkedin-nav a { color: var(--linkedin-blue); font-size: 1.4rem; }
    /* Hamburger */
    .menu-toggle { display: none; background: none; border: none; color: var(--text-white); font-size: 1.4rem; cursor: pointer; padding: 0.5rem; z-index: 101; }
    /* Tablet */
    @media (max-width: 768px) {
      .menu-toggle { display: none !important; }
      .mobile-linkedin-nav { display: flex; align-items: center; }
      .navbar { padding: 0.6rem 1rem; }
      .navbar-menu { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: var(--bg-secondary); flex-direction: column; align-items: center; justify-content: center; gap: 2rem; z-index: 100; }
      .navbar-menu.active { display: flex; }
      .nav-links { flex-direction: column; align-items: center; gap: 1rem; }
      .nav-link { font-size: 1.2rem; padding: 0.7rem 1.5rem; }
      . { gap: 1.5rem; }
      .social-icon { font-size: 1.4rem; }
      .research-hero { height: 240px; }
      .research-hero-title { font-size: 2.2rem; }
      .page-section { padding: 2rem 1.5rem 3rem 1.5rem; }
      .card { padding: 1.25rem; }
    }
    /* Phone */
    @media (max-width: 480px) {
      .research-hero { height: 180px; }
      .research-hero-title { font-size: 1.75rem; }
      .page-section { padding: 1.5rem 1rem 2rem 1rem; }
      .card { padding: 1rem; }
      .card h2 { font-size: 1.1rem; }
      .navbar-brand h1 { font-size: 1.1rem; }
      footer { padding: 1rem; }
      footer p { font-size: 0.7rem; }
    }
    /* Mobile Bottom Tab Bar */
    .mobile-bottom-nav { display:none; position:fixed; bottom:0; left:0; right:0; z-index:1000; background:rgba(10,10,15,0.97); border-top:1px solid var(--glass-border); backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px); padding:0.35rem 0; padding-bottom:env(safe-area-inset-bottom,0); }
    .mobile-bottom-nav-container { display:flex; justify-content:space-around; align-items:center; max-width:100%; }
    .mobile-bottom-nav-item { display:flex; flex-direction:column; align-items:center; justify-content:center; text-decoration:none; color:var(--text-muted); font-size:0.62rem; padding:0.25rem 0.5rem; border-radius:0.5rem; transition:color 0.2s ease; gap:0.12rem; flex:1; position:relative; }
    .mobile-bottom-nav-item i { font-size:1.1rem; transition:transform 0.2s ease; }
    .mobile-bottom-nav-item span { font-weight:500; letter-spacing:0.02em; }
    .mobile-bottom-nav-item:hover, .mobile-bottom-nav-item.active { color:var(--accent-color); text-decoration:none; }
    .mobile-bottom-nav-item.active i { transform:scale(1.1); }
    .mobile-bottom-nav-item.active::before { content:''; position:absolute; top:-0.35rem; left:50%; transform:translateX(-50%); width:1.8rem; height:2px; background:var(--accent-color); border-radius:2px; box-shadow:0 0 6px rgba(0,229,229,0.4); }
    @media (max-width:768px) { .mobile-bottom-nav { display:block; } body { padding-bottom:3.5rem; } footer { margin-bottom:3.5rem; } }
        #geo-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
    html.light .mobile-bottom-nav { background: rgba(245,246,250,0.97); }
    </style>
</head>
  <body>
        <canvas id="geo-canvas"></canvas>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <div class="navbar-brand"><a href="index.html" style="text-decoration: none;"><h1>Frédéric Mirindi</h1></a></div>
        <button class="menu-toggle" aria-label="Toggle menu" onclick="toggleMenu()"><i class="fas fa-bars" id="menu-icon"></i></button>
        <div class="mobile-linkedin-nav"><a href="https://www.linkedin.com/in/fredericmirindi" target="_blank" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a></div>
        <div class="navbar-menu" id="navbar-menu">
          <div class="nav-links">
            <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="research.html" class="nav-link"><i class="fas fa-flask"></i> Research</a>
            <a href="publications.html" class="nav-link"><i class="fas fa-book"></i> Publications</a>
            <a href="conferences.html" class="nav-link"><i class="fas fa-microphone"></i> Conferences</a>
            <a href="teaching.html" class="nav-link active"><i class="fas fa-graduation-cap"></i> Teaching</a>
            <a href="contact.html" class="nav-link"><i class="fas fa-envelope"></i> Contact</a>
          </div>
          <div class="social-icons-nav"><a href="https://www.linkedin.com/in/fredericmirindi" target="_blank" class="social-icon icon-linkedin"><i class="fa-brands fa-linkedin"></i></a></div>
          <!-- Appearance Toggle -->
          <div class="appearance-toggle" id="appearanceToggle" role="group" aria-label="Appearance">
            <button class="theme-option" id="btn-light" onclick="setTheme('light')" title="Light mode"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg> L</button>
            <button class="theme-option" id="btn-dark" onclick="setTheme('dark')" title="Dark mode"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg> D</button>
          </div>
        </div>
      </div>
    </nav>

      <!-- Hero Banner -->
    <section class="research-hero">
      <canvas id="hero-canvas"></canvas>
      <div class="research-hero-title">
        Teaching
        <span class="accent-bar"></span>
      </div>
    </section>

  <!-- Main Content -->
  <main class="page-section">

    <!-- Booth University College -->
    <div class="card">
      <h2><i class="fas fa-university"></i> Booth University College</h2>

      <div class="teaching-institution">
        <img src="images/Booth_University_College.svg" alt="Booth University College logo">
        <div class="teaching-institution-info">
          <div class="teaching-institution-name">Booth University College</div>
          <div class="teaching-institution-location">Winnipeg, Manitoba, Canada</div>
        </div>
      </div>

      <div class="role-badge"><i class="fas fa-user-tie"></i> Lecturer</div>

      <p class="teaching-intro">
        The following courses are delivered at Booth University College, an accredited liberal arts institution in Winnipeg, Canada. These courses span economics, mathematics, and business disciplines, serving undergraduate students across multiple programs.
      </p>

      <ul class="course-list">
        <li class="course-item">
          <img src="images/micro.PNG" alt="Microeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO110</div>
            <div class="course-title">Introduction to Microeconomics</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/math.PNG" alt="Calculus icon" class="course-img">
          <div class="course-info">
            <div class="course-code">MAT110</div>
            <div class="course-title">Calculus</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/math.PNG" alt="Applied Mathematics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">MAT100</div>
            <div class="course-title">Applied Finite Mathematics</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/resmeth.PNG" alt="Research Methods icon" class="course-img">
          <div class="course-info">
            <div class="course-code">BHS200</div>
            <div class="course-title">Research Methods</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/bis.PNG" alt="Business Information Systems icon" class="course-img">
          <div class="course-info">
            <div class="course-code">BHS270</div>
            <div class="course-title">Business Information Systems</div>
            <div class="course-meta">
              <span class="course-badge badge-year">2024</span>
              <span class="course-badge badge-year">2025</span>
              <span class="course-badge badge-current">2026 &mdash; Currently</span>
            </div>
          </div>
        
      </nav>
    </div>

    <!-- Universite de Saint-Boniface -->
    <div class="card">
      <h2><i class="fas fa-language"></i> Université de Saint-Boniface</h2>

      <div class="teaching-institution">
        <img src="images/université saint boniface.png" alt="Université de Saint-Boniface logo">
        <div class="teaching-institution-info">
          <div class="teaching-institution-name">Université de Saint-Boniface</div>
          <div class="teaching-institution-location">Saint-Boniface, Manitoba, Canada</div>
        </div>
      </div>

      <div class="role-badge"><i class="fas fa-user-tie"></i> Chargé de cours</div>

      <p class="teaching-intro">
        Ces cours sont donnés en français à l'Université de Saint-Boniface, la seule université francophone de l'Ouest canadien. Ils s'inscrivent dans le programme de sciences économiques destiné aux étudiants de premier cycle.
      </p>

      <ul class="course-list">
        <li class="course-item">
          <img src="images/micro.PNG" alt="Microeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO &mdash; Micro</div>
            <div class="course-title">Introduction à la Microéconomie</div>
            <div class="course-meta">
              <span class="course-badge badge-semester">Printemps 2025</span>
            </div>
          </div>
        
        <li class="course-item">
          <img src="images/macro.PNG" alt="Macroeconomics icon" class="course-img">
          <div class="course-info">
            <div class="course-code">ECO &mdash; Macro</div>
            <div class="course-title">Introduction à la Macroéconomie</div>
            <div class="course-meta">
              <span class="course-badge badge-semester">Hiver 2026</span>
            </div>
          </div>
        
      </nav>
    </div>

  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2018 Frédéric Mirindi. All rights reserved.</p>
  </footer>

  <!-- Mobile Bottom Nav -->
  <nav class="mobile-bottom-nav" aria-label="Mobile navigation">
    <div class="mobile-bottom-nav-container">
      <a href="index.html" class="mobile-bottom-nav-item">
        <i class="fas fa-home"></i><span>Home</span>
      </a>
      <a href="research.html" class="mobile-bottom-nav-item">
        <i class="fas fa-flask"></i><span>Research</span>
      </a>
      <a href="publications.html" class="mobile-bottom-nav-item">
        <i class="fas fa-book"></i><span>Publications</span>
      </a>
      <a href="conferences.html" class="mobile-bottom-nav-item">
        <i class="fas fa-microphone"></i><span>Conferences</span>
      </a>
      <a href="teaching.html" class="mobile-bottom-nav-item active">
        <i class="fas fa-graduation-cap"></i><span>Teaching</span>
      </a>
              <a href="contact.html" class="mobile-bottom-nav-item">
            <i class="fas fa-envelope"></i><span>Contact</span>
        </a>
    </div>
  </nav>

  <script>
    function setTheme(theme) { const html = document.documentElement; html.classList.remove('dark', 'light'); html.classList.add(theme); localStorage.setItem('theme', theme); document.getElementById('btn-light').classList.toggle('active', theme === 'light'); document.getElementById('btn-dark').classList.toggle('active', theme === 'dark'); document.getElementById('btn-light').setAttribute('aria-pressed', theme === 'light'); document.getElementById('btn-dark').setAttribute('aria-pressed', theme === 'dark'); } (function() { const saved = localStorage.getItem('theme') || 'dark'; setTheme(saved); })(); function toggleMenu() {
      const menu = document.getElementById('navbar-menu');
      const icon = document.getElementById('menu-icon');
      menu.classList.toggle('active');
      if (menu.classList.contains('active')) {
        icon.classList.remove('fa-bars');
        icon.classList.add('fa-times');
      } else {
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
    }
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        const menu = document.getElementById('navbar-menu');
        const icon = document.getElementById('menu-icon');
        menu.classList.remove('active');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      });
    });
  </script>
<script>
  (function() {
    const canvas = document.getElementById('hero-canvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let W, H;
    function resize() { W = canvas.width = canvas.parentElement.offsetWidth; H = canvas.height = canvas.parentElement.offsetHeight; }
    window.addEventListener('resize', resize); resize();
    const isDark = () => document.documentElement.classList.contains('dark');

    // Head profile points (normalized 0-1, will be scaled)
    const headProfile = [
      [0.50,0.05],[0.58,0.06],[0.65,0.08],[0.72,0.12],[0.78,0.17],
      [0.82,0.23],[0.85,0.30],[0.86,0.38],[0.85,0.45],[0.83,0.52],
      [0.80,0.58],[0.76,0.63],[0.72,0.67],[0.68,0.70],[0.65,0.73],
      [0.63,0.76],[0.62,0.80],[0.63,0.84],[0.65,0.87],[0.64,0.90],
      [0.60,0.92],[0.55,0.93],[0.50,0.94],[0.46,0.93],[0.43,0.91],
      [0.41,0.88],[0.40,0.85],[0.39,0.82],[0.37,0.79],[0.34,0.77],
      [0.31,0.75],[0.29,0.73],[0.27,0.70],[0.26,0.67],[0.25,0.64],
      [0.24,0.60],[0.23,0.56],[0.22,0.52],[0.22,0.48],[0.23,0.44],
      [0.25,0.40],[0.28,0.36],[0.30,0.33],[0.32,0.30],[0.33,0.27],
      [0.34,0.24],[0.35,0.20],[0.37,0.16],[0.40,0.12],[0.44,0.08],
      [0.50,0.05]
    ];

    // Generate nodes along head outline and interior
    let nodes = [];
    let edges = [];
    let triangles = [];

    function generateHead() {
      nodes = []; edges = []; triangles = [];
      const cx = W * 0.5, cy = H * 0.5;
      const scale = Math.min(W, H) * 0.9;
      const ox = cx - scale * 0.5, oy = cy - scale * 0.5;

      // Outline nodes
      for (let i = 0; i < headProfile.length; i++) {
        const [px, py] = headProfile[i];
        nodes.push({
          x: ox + px * scale + (Math.random()-0.5)*4,
          y: oy + py * scale + (Math.random()-0.5)*4,
          ox: ox + px * scale,
          oy: oy + py * scale,
          r: 1.5 + Math.random()*2,
          outline: true,
          pulse: Math.random()*Math.PI*2,
          pulseSpeed: 0.01 + Math.random()*0.02
        });
      }

      // Interior nodes
      for (let i = 0; i < 120; i++) {
        const px = 0.22 + Math.random()*0.66;
        const py = 0.05 + Math.random()*0.90;
        const sx = ox + px * scale;
        const sy = oy + py * scale;
        if (isInsideHead(px, py)) {
          nodes.push({
            x: sx + (Math.random()-0.5)*3,
            y: sy + (Math.random()-0.5)*3,
            ox: sx, oy: sy,
            r: 1 + Math.random()*1.8,
            outline: false,
            pulse: Math.random()*Math.PI*2,
            pulseSpeed: 0.008 + Math.random()*0.015
          });
        }
      }

      // Create edges (Delaunay-like connections)
      const maxDist = scale * 0.12;
      for (let i = 0; i < nodes.length; i++) {
        let connections = 0;
        for (let j = i+1; j < nodes.length; j++) {
          const dx = nodes[i].ox - nodes[j].ox;
          const dy = nodes[i].oy - nodes[j].oy;
          const d = Math.sqrt(dx*dx + dy*dy);
          if (d < maxDist && connections < 6) {
            edges.push([i, j, d]);
            connections++;
          }
        }
      }

      // Create triangles from close triplets
      for (let i = 0; i < edges.length; i++) {
        for (let j = i+1; j < edges.length; j++) {
          let shared = -1, a = -1, b = -1;
          if (edges[i][0] === edges[j][0]) { shared = edges[i][0]; a = edges[i][1]; b = edges[j][1]; }
          else if (edges[i][0] === edges[j][1]) { shared = edges[i][0]; a = edges[i][1]; b = edges[j][0]; }
          else if (edges[i][1] === edges[j][0]) { shared = edges[i][1]; a = edges[i][0]; b = edges[j][1]; }
          else if (edges[i][1] === edges[j][1]) { shared = edges[i][1]; a = edges[i][0]; b = edges[j][0]; }
          if (shared >= 0 && a >= 0 && b >= 0) {
            const dx = nodes[a].ox - nodes[b].ox;
            const dy = nodes[a].oy - nodes[b].oy;
            if (Math.sqrt(dx*dx+dy*dy) < maxDist && triangles.length < 200) {
              triangles.push([shared, a, b]);
            }
          }
        }
      }
    }

    function isInsideHead(px, py) {
      let inside = false;
      const n = headProfile.length;
      for (let i = 0, j = n-1; i < n; j = i++) {
        const [xi,yi] = headProfile[i];
        const [xj,yj] = headProfile[j];
        if (((yi > py) !== (yj > py)) && (px < (xj-xi)*(py-yi)/(yj-yi)+xi)) {
          inside = !inside;
        }
      }
      return inside;
    }

    generateHead();
    window.addEventListener('resize', () => { resize(); generateHead(); });

    // Floating ambient particles
    const ambientParticles = [];
    for (let i = 0; i < 30; i++) {
      ambientParticles.push({
        x: Math.random()*2000, y: Math.random()*600,
        vx: (Math.random()-0.5)*0.3, vy: (Math.random()-0.5)*0.2,
        r: 0.5 + Math.random()*1.5, alpha: 0.1 + Math.random()*0.2
      });
    }

    function draw(t) {
      ctx.clearRect(0, 0, W, H);
      const dark = isDark();

      // Draw triangles (filled with very subtle color)
      triangles.forEach(tri => {
        const [a,b,c] = tri;
        ctx.beginPath();
        ctx.moveTo(nodes[a].x, nodes[a].y);
        ctx.lineTo(nodes[b].x, nodes[b].y);
        ctx.lineTo(nodes[c].x, nodes[c].y);
        ctx.closePath();
        const alpha = dark ? 0.03 + Math.sin(t*0.001)*0.015 : 0.04 + Math.sin(t*0.001)*0.02;
        ctx.fillStyle = dark ? 'rgba(77,208,225,'+alpha+')' : 'rgba(8,145,178,'+alpha+')';
        ctx.fill();
      });

      // Draw edges
      edges.forEach(e => {
        const [i, j, d] = e;
        const maxD = Math.min(W,H)*0.9*0.12;
        const alpha = (1 - d/maxD) * (dark ? 0.25 : 0.2);
        ctx.beginPath();
        ctx.moveTo(nodes[i].x, nodes[i].y);
        ctx.lineTo(nodes[j].x, nodes[j].y);
        ctx.strokeStyle = dark ? 'rgba(77,208,225,'+alpha+')' : 'rgba(8,145,178,'+alpha+')';
        ctx.lineWidth = 0.5;
        ctx.stroke();
      });

      // Draw nodes
      nodes.forEach((n, idx) => {
        n.pulse += n.pulseSpeed;
        n.x = n.ox + Math.sin(t*0.0008 + idx*0.5)*2;
        n.y = n.oy + Math.cos(t*0.001 + idx*0.3)*1.5;
        const glow = 0.5 + Math.sin(n.pulse)*0.3;
        const r = n.r * (0.8 + glow*0.4);
        const alpha = n.outline ? (dark ? 0.8 : 0.7) : (dark ? 0.5 + glow*0.3 : 0.4 + glow*0.25);
        ctx.beginPath();
        ctx.arc(n.x, n.y, r, 0, Math.PI*2);
        ctx.fillStyle = dark ? 'rgba(200,230,255,'+alpha+')' : 'rgba(8,145,178,'+alpha+')';
        ctx.fill();
        if (n.outline) {
          ctx.beginPath();
          ctx.arc(n.x, n.y, r+2, 0, Math.PI*2);
          ctx.fillStyle = dark ? 'rgba(77,208,225,'+(alpha*0.2)+')' : 'rgba(8,145,178,'+(alpha*0.15)+')';
          ctx.fill();
        }
      });

      // Ambient particles
      ambientParticles.forEach(p => {
        p.x += p.vx; p.y += p.vy;
        if (p.x < -20) p.x = W+20;
        if (p.x > W+20) p.x = -20;
        if (p.y < -20) p.y = H+20;
        if (p.y > H+20) p.y = -20;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fillStyle = dark ? 'rgba(77,208,225,'+p.alpha+')' : 'rgba(8,145,178,'+p.alpha+')';
        ctx.fill();
      });

      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);
  })();
  </script>
</html>
